<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.5" />
<title>pyumldiagrams.image.ImageDiagram API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
<b>A Python UML document maker.</b>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pyumldiagrams.image.ImageDiagram</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from typing import List
from typing import final
from typing import Union

from logging import Logger
from logging import getLogger

from os import sep as osSep

from pkg_resources import resource_filename

from PIL import Image
from PIL import ImageColor
from PIL import ImageDraw
from PIL import ImageFont


from pyumldiagrams.BaseDiagram import BaseDiagram

from pyumldiagrams.Definitions import TOP_MARGIN
from pyumldiagrams.Definitions import LEFT_MARGIN

from pyumldiagrams.Definitions import ClassDefinition
from pyumldiagrams.Definitions import EllipseDefinition
from pyumldiagrams.Definitions import Position
from pyumldiagrams.Definitions import RectangleDefinition
from pyumldiagrams.Definitions import Size
from pyumldiagrams.Definitions import UmlLineDefinition

from pyumldiagrams.image.ImageCommon import ImageCommon

from pyumldiagrams.Internal import InternalPosition
from pyumldiagrams.Internal import SeparatorPosition

from pyumldiagrams.image.ImageFormat import ImageFormat
from pyumldiagrams.image.ImageLine import ImageLine

ShapeDefinition = Union[EllipseDefinition, RectangleDefinition]


class ImageDiagram(BaseDiagram):

    RESOURCES_PACKAGE_NAME: final = &#39;pyumldiagrams.image.resources&#39;
    RESOURCES_PATH:         final = f&#39;pyumldiagrams{osSep}image{osSep}resources&#39;

    DEFAULT_IMAGE_WIDTH:  final = 1280    # pixels
    DEFAULT_IMAGE_HEIGHT: final = 1024    # pixels

    DEFAULT_BACKGROUND_COLOR: str = &#39;LightYellow&#39;
    DEFAULT_LINE_COLOR:       str = &#39;Black&#39;
    DEFAULT_TEXT_COLOR:       str = &#39;Black&#39;
    DEFAULT_IMAGE_FORMAT:     str = ImageFormat.PNG.value

    X_NUDGE_FACTOR: final = 4
    Y_NUDGE_FACTOR: final = 8

    def __init__(self, fileName: str, headerText: str = &#39;&#39;, imageSize: Size = Size(width=DEFAULT_IMAGE_WIDTH, height=DEFAULT_IMAGE_HEIGHT)):
        &#34;&#34;&#34;

        Args:
            fileName:  The output file name.  Including the suffix

            headerText:  The text to display as a header on the diagram

            imageSize:  The diagram size in pixels
        &#34;&#34;&#34;

        super().__init__(fileName=fileName, headerText=headerText)

        self.logger: Logger = getLogger(__name__)

        self._img:   Image  = Image.new(mode=&#39;RGB&#39;,
                                        size=(imageSize.width, imageSize.height),
                                        color=ImageColor.getrgb(ImageDiagram.DEFAULT_BACKGROUND_COLOR))

        self._imgDraw:    ImageDraw = ImageDraw.Draw(self._img)
        self._lineDrawer: ImageLine = ImageLine(docWriter=self._imgDraw, diagramPadding=self._diagramPadding)

        fqPath:     str       = self.retrieveResourcePath(&#39;MonoFonto.ttf&#39;)
        self._font:       ImageFont = ImageFont.truetype(font=fqPath, size=BaseDiagram.DEFAULT_FONT_SIZE)
        self._headerFont: ImageFont = ImageFont.truetype(font=fqPath, size=BaseDiagram.HEADER_FONT_SIZE)
        #
        # https://www.exiv2.org/tags.html
        #
        # TODO need to write the following EXIF TAGS
        #
        # 74  0112  Orientation    The image orientation viewed in terms of rows and columns.
        # 305 0131  Software       Name and version number of the software package(s) used to create the image
        # 316 013C  HostComputer   The computer and/or operating system in use at the time of image creation.
        # 270:      ImageDescription
        # 37510:    &#39;UserComment&#39;
        #

    def retrieveResourcePath(self, bareFileName: str) -&gt; str:

        try:
            fqFileName: str = resource_filename(ImageDiagram.RESOURCES_PACKAGE_NAME, bareFileName)
        except (ValueError, Exception):
            #
            # Maybe we are in an app
            #
            from os import environ
            pathToResources: str = environ.get(f&#39;{BaseDiagram.RESOURCE_ENV_VAR}&#39;)
            fqFileName:      str = f&#39;{pathToResources}/{ImageDiagram.RESOURCES_PATH}/{bareFileName}&#39;

        return fqFileName

    def drawClass(self, classDefinition: ClassDefinition):
        &#34;&#34;&#34;
        Draw the class diagram defined by the input

        Overrides the empty base definition

        Args:
            classDefinition:    The class definition
        &#34;&#34;&#34;
        self._drawClassSymbol(classDefinition=classDefinition)

        position: Position = classDefinition.position
        size:     Size     = classDefinition.size

        iPos: InternalPosition = ImageCommon.toInternal(position=position, horizontalGap=self.horizontalGap, verticalGap=self.verticalGap)

        self._drawClassName(classDefinition=classDefinition, rectX=iPos.x, rectY=iPos.y, symbolWidth=size.width)

        separatorPosition: SeparatorPosition = self._drawSeparator(rectX=iPos.x, rectY=iPos.y, shapeWidth=size.width)

        fieldReprs:  BaseDiagram.FieldsRepr  = self._buildFields(classDefinition.fields)

        fieldSeparatorPosition: SeparatorPosition = self._drawFields(fieldReprs=fieldReprs, separatorPosition=separatorPosition)
        methodSeparatorPosition = self._drawSeparator(rectX=iPos.x, rectY=fieldSeparatorPosition.y, shapeWidth=size.width)

        methodReprs: BaseDiagram.MethodsRepr = self._buildMethods(classDefinition.methods)

        self._drawMethods(methodReprs=methodReprs, separatorPosition=methodSeparatorPosition)

    def drawUmlLine(self, lineDefinition: UmlLineDefinition):
        &#34;&#34;&#34;
        Draw the inheritance, aggregation, or composition lines that describe the relationships
        between the UML classes

        Overrides the empty base definition

        Args:
            lineDefinition:   A UML Line definition
        &#34;&#34;&#34;
        self._lineDrawer.draw(lineDefinition=lineDefinition)

    def drawEllipse(self, definition: EllipseDefinition):
        &#34;&#34;&#34;
        Draw a general purpose ellipse

        Overrides the empty base definition

        Args:
            definition:     It&#39;s definition
        &#34;&#34;&#34;
        xy = self.__toInternalCoordinates(definition=definition)
        self._imgDraw.ellipse(xy=xy, fill=None, outline=ImageDiagram.DEFAULT_LINE_COLOR, width=1)

    def drawRectangle(self, definition: RectangleDefinition):
        &#34;&#34;&#34;
        Draw a general purpose rectangle

        Overrides the empty base definition

        Args:
            definition:  The rectangle definition
        &#34;&#34;&#34;

        xy = self.__toInternalCoordinates(definition=definition)
        self._imgDraw.rectangle(xy=xy, fill=None, outline=ImageDiagram.DEFAULT_LINE_COLOR, width=1)

    def write(self):
        &#34;&#34;&#34;
        Call this method when you are done with placing the diagram onto the image document.

        Overrides the empty base definition
        &#34;&#34;&#34;
        if self._headerText is not None and self._headerText != &#39;&#39;:

            xy = [LEFT_MARGIN, TOP_MARGIN / 2]
            self._imgDraw.text(xy=xy, fill=ImageDiagram.DEFAULT_TEXT_COLOR, font=self._headerFont, text=self._headerText)

        self._img.save(self._fileName, ImageDiagram.DEFAULT_IMAGE_FORMAT)

    def _drawClassSymbol(self, classDefinition: ClassDefinition):

        imgDraw: ImageDraw = self._imgDraw

        position: Position = classDefinition.position
        size:     Size     = classDefinition.size

        iPos: InternalPosition = ImageCommon.toInternal(position=position, horizontalGap=self.horizontalGap, verticalGap=self.verticalGap)

        x0 = iPos.x
        y0 = iPos.y
        x1 = x0 + size.width
        y1 = y0 + size.height
        xy = [x0, y0, x1, y1]
        self.logger.info(f&#39;Class Symbol {xy=}&#39;)
        imgDraw.rectangle(xy=xy, fill=None, outline=ImageDiagram.DEFAULT_LINE_COLOR, width=1)

    def _drawClassName(self, classDefinition: ClassDefinition, rectX: float, rectY: float, symbolWidth: float):

        imgDraw: ImageDraw = self._imgDraw

        nameWidth, nameHeight = imgDraw.textsize(text=classDefinition.name, font=self._font)

        textX: float = rectX + ((symbolWidth / 2) - (nameWidth / 2))
        textY: float = rectY + (self._fontSize / 2)

        xy = [textX, textY]
        self.logger.info(f&#39;ClassName {xy=}&#39;)
        imgDraw.text(xy=xy, fill=ImageDiagram.DEFAULT_TEXT_COLOR, font=self._font, text=classDefinition.name)

    def _drawSeparator(self, rectX: float, rectY: float, shapeWidth: float) -&gt; SeparatorPosition:
        &#34;&#34;&#34;
        Draws the UML separators between the various part of the UML shape
        Does the computation to determine where it drew the separator

        Args:
            rectX: x position of symbol
            rectY: y position of symbol (
            shapeWidth: The width of the symbol

        Returns:  Where it drew the separator
        &#34;&#34;&#34;
        imgDraw: ImageDraw = self._imgDraw

        separatorX: float = rectX
        separatorY: float = rectY + self._fontSize + ImageDiagram.Y_NUDGE_FACTOR

        endX: float = rectX + shapeWidth

        xy = [separatorX, separatorY, endX, separatorY]
        self.logger.info(f&#39;Separator {xy=}&#39;)
        imgDraw.line(xy=xy, fill=ImageDiagram.DEFAULT_LINE_COLOR, width=1)

        return SeparatorPosition(separatorX, separatorY)

    def _drawFields(self, fieldReprs: BaseDiagram.FieldsRepr, separatorPosition: SeparatorPosition) -&gt; SeparatorPosition:

        imgDraw: ImageDraw = self._imgDraw
        x: float = separatorPosition.x + ImageDiagram.X_NUDGE_FACTOR
        y: float = separatorPosition.y + ImageDiagram.Y_NUDGE_FACTOR
        for fieldRepr in fieldReprs:
            xy = [x, y]
            imgDraw.text(xy=xy, fill=ImageDiagram.DEFAULT_TEXT_COLOR, font=self._font, text=fieldRepr)
            y = y + self._fontSize + 2

        y = (y - self._fontSize) - 2   # Adjust for last addition
        return SeparatorPosition(x=x, y=y)

    def _drawMethods(self, methodReprs: BaseDiagram.MethodsRepr, separatorPosition: SeparatorPosition):

        imgDraw: ImageDraw = self._imgDraw

        x: float = separatorPosition.x + ImageDiagram.X_NUDGE_FACTOR
        y: float = separatorPosition.y + ImageDiagram.Y_NUDGE_FACTOR

        for methodRepr in methodReprs:

            xy = [x, y]
            imgDraw.text(xy=xy, fill=ImageDiagram.DEFAULT_TEXT_COLOR, font=self._font, text=methodRepr)
            y = y + self._fontSize + 2

    def __toInternalCoordinates(self, definition: ShapeDefinition) -&gt; List[float]:

        pos:  Position = definition.position
        size: Size     = definition.size

        internalStart: InternalPosition = self.__toInternal(position=pos)
        internalEnd:   InternalPosition = self.__toInternal(position=Position(x=pos.x + size.width, y=pos.y + size.height))

        x1 = internalStart.x
        y1 = internalStart.y
        x2 = internalEnd.x
        y2 = internalEnd.y

        xy = [x1, y1, x2, y2]

        return xy

    def __toInternal(self, position: Position) -&gt; InternalPosition:

        verticalGap:   int = self._diagramPadding.verticalGap
        horizontalGap: int = self._diagramPadding.horizontalGap

        iPos: InternalPosition = ImageCommon.toInternal(position, verticalGap=verticalGap, horizontalGap=horizontalGap)

        return iPos</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram"><code class="flex name class">
<span>class <span class="ident">ImageDiagram</span></span>
<span>(</span><span>fileName: str, headerText: str = '', imageSize: <a title="pyumldiagrams.Definitions.Size" href="../Definitions.html#pyumldiagrams.Definitions.Size">Size</a> = Size(width=1280, height=1024))</span>
</code></dt>
<dd>
<div class="desc"><p>Always lays out in portrait mode.
Currently only supports UML classes with methods.
Only supports
inheritance, composition, and aggregation lines.</p>
<p>You are allowed to set the gap between UML classes both horizontally and vertically.
Also, you are allowed to
specify the text font size</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>fileName</code></strong></dt>
<dd>The output file name.
Including the suffix</dd>
<dt><strong><code>headerText</code></strong></dt>
<dd>The text to display as a header on the diagram</dd>
<dt><strong><code>imageSize</code></strong></dt>
<dd>The diagram size in pixels</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ImageDiagram(BaseDiagram):

    RESOURCES_PACKAGE_NAME: final = &#39;pyumldiagrams.image.resources&#39;
    RESOURCES_PATH:         final = f&#39;pyumldiagrams{osSep}image{osSep}resources&#39;

    DEFAULT_IMAGE_WIDTH:  final = 1280    # pixels
    DEFAULT_IMAGE_HEIGHT: final = 1024    # pixels

    DEFAULT_BACKGROUND_COLOR: str = &#39;LightYellow&#39;
    DEFAULT_LINE_COLOR:       str = &#39;Black&#39;
    DEFAULT_TEXT_COLOR:       str = &#39;Black&#39;
    DEFAULT_IMAGE_FORMAT:     str = ImageFormat.PNG.value

    X_NUDGE_FACTOR: final = 4
    Y_NUDGE_FACTOR: final = 8

    def __init__(self, fileName: str, headerText: str = &#39;&#39;, imageSize: Size = Size(width=DEFAULT_IMAGE_WIDTH, height=DEFAULT_IMAGE_HEIGHT)):
        &#34;&#34;&#34;

        Args:
            fileName:  The output file name.  Including the suffix

            headerText:  The text to display as a header on the diagram

            imageSize:  The diagram size in pixels
        &#34;&#34;&#34;

        super().__init__(fileName=fileName, headerText=headerText)

        self.logger: Logger = getLogger(__name__)

        self._img:   Image  = Image.new(mode=&#39;RGB&#39;,
                                        size=(imageSize.width, imageSize.height),
                                        color=ImageColor.getrgb(ImageDiagram.DEFAULT_BACKGROUND_COLOR))

        self._imgDraw:    ImageDraw = ImageDraw.Draw(self._img)
        self._lineDrawer: ImageLine = ImageLine(docWriter=self._imgDraw, diagramPadding=self._diagramPadding)

        fqPath:     str       = self.retrieveResourcePath(&#39;MonoFonto.ttf&#39;)
        self._font:       ImageFont = ImageFont.truetype(font=fqPath, size=BaseDiagram.DEFAULT_FONT_SIZE)
        self._headerFont: ImageFont = ImageFont.truetype(font=fqPath, size=BaseDiagram.HEADER_FONT_SIZE)
        #
        # https://www.exiv2.org/tags.html
        #
        # TODO need to write the following EXIF TAGS
        #
        # 74  0112  Orientation    The image orientation viewed in terms of rows and columns.
        # 305 0131  Software       Name and version number of the software package(s) used to create the image
        # 316 013C  HostComputer   The computer and/or operating system in use at the time of image creation.
        # 270:      ImageDescription
        # 37510:    &#39;UserComment&#39;
        #

    def retrieveResourcePath(self, bareFileName: str) -&gt; str:

        try:
            fqFileName: str = resource_filename(ImageDiagram.RESOURCES_PACKAGE_NAME, bareFileName)
        except (ValueError, Exception):
            #
            # Maybe we are in an app
            #
            from os import environ
            pathToResources: str = environ.get(f&#39;{BaseDiagram.RESOURCE_ENV_VAR}&#39;)
            fqFileName:      str = f&#39;{pathToResources}/{ImageDiagram.RESOURCES_PATH}/{bareFileName}&#39;

        return fqFileName

    def drawClass(self, classDefinition: ClassDefinition):
        &#34;&#34;&#34;
        Draw the class diagram defined by the input

        Overrides the empty base definition

        Args:
            classDefinition:    The class definition
        &#34;&#34;&#34;
        self._drawClassSymbol(classDefinition=classDefinition)

        position: Position = classDefinition.position
        size:     Size     = classDefinition.size

        iPos: InternalPosition = ImageCommon.toInternal(position=position, horizontalGap=self.horizontalGap, verticalGap=self.verticalGap)

        self._drawClassName(classDefinition=classDefinition, rectX=iPos.x, rectY=iPos.y, symbolWidth=size.width)

        separatorPosition: SeparatorPosition = self._drawSeparator(rectX=iPos.x, rectY=iPos.y, shapeWidth=size.width)

        fieldReprs:  BaseDiagram.FieldsRepr  = self._buildFields(classDefinition.fields)

        fieldSeparatorPosition: SeparatorPosition = self._drawFields(fieldReprs=fieldReprs, separatorPosition=separatorPosition)
        methodSeparatorPosition = self._drawSeparator(rectX=iPos.x, rectY=fieldSeparatorPosition.y, shapeWidth=size.width)

        methodReprs: BaseDiagram.MethodsRepr = self._buildMethods(classDefinition.methods)

        self._drawMethods(methodReprs=methodReprs, separatorPosition=methodSeparatorPosition)

    def drawUmlLine(self, lineDefinition: UmlLineDefinition):
        &#34;&#34;&#34;
        Draw the inheritance, aggregation, or composition lines that describe the relationships
        between the UML classes

        Overrides the empty base definition

        Args:
            lineDefinition:   A UML Line definition
        &#34;&#34;&#34;
        self._lineDrawer.draw(lineDefinition=lineDefinition)

    def drawEllipse(self, definition: EllipseDefinition):
        &#34;&#34;&#34;
        Draw a general purpose ellipse

        Overrides the empty base definition

        Args:
            definition:     It&#39;s definition
        &#34;&#34;&#34;
        xy = self.__toInternalCoordinates(definition=definition)
        self._imgDraw.ellipse(xy=xy, fill=None, outline=ImageDiagram.DEFAULT_LINE_COLOR, width=1)

    def drawRectangle(self, definition: RectangleDefinition):
        &#34;&#34;&#34;
        Draw a general purpose rectangle

        Overrides the empty base definition

        Args:
            definition:  The rectangle definition
        &#34;&#34;&#34;

        xy = self.__toInternalCoordinates(definition=definition)
        self._imgDraw.rectangle(xy=xy, fill=None, outline=ImageDiagram.DEFAULT_LINE_COLOR, width=1)

    def write(self):
        &#34;&#34;&#34;
        Call this method when you are done with placing the diagram onto the image document.

        Overrides the empty base definition
        &#34;&#34;&#34;
        if self._headerText is not None and self._headerText != &#39;&#39;:

            xy = [LEFT_MARGIN, TOP_MARGIN / 2]
            self._imgDraw.text(xy=xy, fill=ImageDiagram.DEFAULT_TEXT_COLOR, font=self._headerFont, text=self._headerText)

        self._img.save(self._fileName, ImageDiagram.DEFAULT_IMAGE_FORMAT)

    def _drawClassSymbol(self, classDefinition: ClassDefinition):

        imgDraw: ImageDraw = self._imgDraw

        position: Position = classDefinition.position
        size:     Size     = classDefinition.size

        iPos: InternalPosition = ImageCommon.toInternal(position=position, horizontalGap=self.horizontalGap, verticalGap=self.verticalGap)

        x0 = iPos.x
        y0 = iPos.y
        x1 = x0 + size.width
        y1 = y0 + size.height
        xy = [x0, y0, x1, y1]
        self.logger.info(f&#39;Class Symbol {xy=}&#39;)
        imgDraw.rectangle(xy=xy, fill=None, outline=ImageDiagram.DEFAULT_LINE_COLOR, width=1)

    def _drawClassName(self, classDefinition: ClassDefinition, rectX: float, rectY: float, symbolWidth: float):

        imgDraw: ImageDraw = self._imgDraw

        nameWidth, nameHeight = imgDraw.textsize(text=classDefinition.name, font=self._font)

        textX: float = rectX + ((symbolWidth / 2) - (nameWidth / 2))
        textY: float = rectY + (self._fontSize / 2)

        xy = [textX, textY]
        self.logger.info(f&#39;ClassName {xy=}&#39;)
        imgDraw.text(xy=xy, fill=ImageDiagram.DEFAULT_TEXT_COLOR, font=self._font, text=classDefinition.name)

    def _drawSeparator(self, rectX: float, rectY: float, shapeWidth: float) -&gt; SeparatorPosition:
        &#34;&#34;&#34;
        Draws the UML separators between the various part of the UML shape
        Does the computation to determine where it drew the separator

        Args:
            rectX: x position of symbol
            rectY: y position of symbol (
            shapeWidth: The width of the symbol

        Returns:  Where it drew the separator
        &#34;&#34;&#34;
        imgDraw: ImageDraw = self._imgDraw

        separatorX: float = rectX
        separatorY: float = rectY + self._fontSize + ImageDiagram.Y_NUDGE_FACTOR

        endX: float = rectX + shapeWidth

        xy = [separatorX, separatorY, endX, separatorY]
        self.logger.info(f&#39;Separator {xy=}&#39;)
        imgDraw.line(xy=xy, fill=ImageDiagram.DEFAULT_LINE_COLOR, width=1)

        return SeparatorPosition(separatorX, separatorY)

    def _drawFields(self, fieldReprs: BaseDiagram.FieldsRepr, separatorPosition: SeparatorPosition) -&gt; SeparatorPosition:

        imgDraw: ImageDraw = self._imgDraw
        x: float = separatorPosition.x + ImageDiagram.X_NUDGE_FACTOR
        y: float = separatorPosition.y + ImageDiagram.Y_NUDGE_FACTOR
        for fieldRepr in fieldReprs:
            xy = [x, y]
            imgDraw.text(xy=xy, fill=ImageDiagram.DEFAULT_TEXT_COLOR, font=self._font, text=fieldRepr)
            y = y + self._fontSize + 2

        y = (y - self._fontSize) - 2   # Adjust for last addition
        return SeparatorPosition(x=x, y=y)

    def _drawMethods(self, methodReprs: BaseDiagram.MethodsRepr, separatorPosition: SeparatorPosition):

        imgDraw: ImageDraw = self._imgDraw

        x: float = separatorPosition.x + ImageDiagram.X_NUDGE_FACTOR
        y: float = separatorPosition.y + ImageDiagram.Y_NUDGE_FACTOR

        for methodRepr in methodReprs:

            xy = [x, y]
            imgDraw.text(xy=xy, fill=ImageDiagram.DEFAULT_TEXT_COLOR, font=self._font, text=methodRepr)
            y = y + self._fontSize + 2

    def __toInternalCoordinates(self, definition: ShapeDefinition) -&gt; List[float]:

        pos:  Position = definition.position
        size: Size     = definition.size

        internalStart: InternalPosition = self.__toInternal(position=pos)
        internalEnd:   InternalPosition = self.__toInternal(position=Position(x=pos.x + size.width, y=pos.y + size.height))

        x1 = internalStart.x
        y1 = internalStart.y
        x2 = internalEnd.x
        y2 = internalEnd.y

        xy = [x1, y1, x2, y2]

        return xy

    def __toInternal(self, position: Position) -&gt; InternalPosition:

        verticalGap:   int = self._diagramPadding.verticalGap
        horizontalGap: int = self._diagramPadding.horizontalGap

        iPos: InternalPosition = ImageCommon.toInternal(position, verticalGap=verticalGap, horizontalGap=horizontalGap)

        return iPos</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pyumldiagrams.BaseDiagram.BaseDiagram" href="../BaseDiagram.html#pyumldiagrams.BaseDiagram.BaseDiagram">BaseDiagram</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_BACKGROUND_COLOR"><code class="name">var <span class="ident">DEFAULT_BACKGROUND_COLOR</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_IMAGE_FORMAT"><code class="name">var <span class="ident">DEFAULT_IMAGE_FORMAT</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_IMAGE_HEIGHT"><code class="name">var <span class="ident">DEFAULT_IMAGE_HEIGHT</span> : <function final at 0x105654700></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_IMAGE_WIDTH"><code class="name">var <span class="ident">DEFAULT_IMAGE_WIDTH</span> : <function final at 0x105654700></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_LINE_COLOR"><code class="name">var <span class="ident">DEFAULT_LINE_COLOR</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_TEXT_COLOR"><code class="name">var <span class="ident">DEFAULT_TEXT_COLOR</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.RESOURCES_PACKAGE_NAME"><code class="name">var <span class="ident">RESOURCES_PACKAGE_NAME</span> : <function final at 0x105654700></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.RESOURCES_PATH"><code class="name">var <span class="ident">RESOURCES_PATH</span> : <function final at 0x105654700></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.X_NUDGE_FACTOR"><code class="name">var <span class="ident">X_NUDGE_FACTOR</span> : <function final at 0x105654700></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.Y_NUDGE_FACTOR"><code class="name">var <span class="ident">Y_NUDGE_FACTOR</span> : <function final at 0x105654700></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.drawClass"><code class="name flex">
<span>def <span class="ident">drawClass</span></span>(<span>self, classDefinition: <a title="pyumldiagrams.Definitions.ClassDefinition" href="../Definitions.html#pyumldiagrams.Definitions.ClassDefinition">ClassDefinition</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Draw the class diagram defined by the input</p>
<p>Overrides the empty base definition</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>classDefinition</code></strong></dt>
<dd>The class definition</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def drawClass(self, classDefinition: ClassDefinition):
    &#34;&#34;&#34;
    Draw the class diagram defined by the input

    Overrides the empty base definition

    Args:
        classDefinition:    The class definition
    &#34;&#34;&#34;
    self._drawClassSymbol(classDefinition=classDefinition)

    position: Position = classDefinition.position
    size:     Size     = classDefinition.size

    iPos: InternalPosition = ImageCommon.toInternal(position=position, horizontalGap=self.horizontalGap, verticalGap=self.verticalGap)

    self._drawClassName(classDefinition=classDefinition, rectX=iPos.x, rectY=iPos.y, symbolWidth=size.width)

    separatorPosition: SeparatorPosition = self._drawSeparator(rectX=iPos.x, rectY=iPos.y, shapeWidth=size.width)

    fieldReprs:  BaseDiagram.FieldsRepr  = self._buildFields(classDefinition.fields)

    fieldSeparatorPosition: SeparatorPosition = self._drawFields(fieldReprs=fieldReprs, separatorPosition=separatorPosition)
    methodSeparatorPosition = self._drawSeparator(rectX=iPos.x, rectY=fieldSeparatorPosition.y, shapeWidth=size.width)

    methodReprs: BaseDiagram.MethodsRepr = self._buildMethods(classDefinition.methods)

    self._drawMethods(methodReprs=methodReprs, separatorPosition=methodSeparatorPosition)</code></pre>
</details>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.drawEllipse"><code class="name flex">
<span>def <span class="ident">drawEllipse</span></span>(<span>self, definition: <a title="pyumldiagrams.Definitions.EllipseDefinition" href="../Definitions.html#pyumldiagrams.Definitions.EllipseDefinition">EllipseDefinition</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Draw a general purpose ellipse</p>
<p>Overrides the empty base definition</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>definition</code></strong></dt>
<dd>
<p>It's definition</p>
</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def drawEllipse(self, definition: EllipseDefinition):
    &#34;&#34;&#34;
    Draw a general purpose ellipse

    Overrides the empty base definition

    Args:
        definition:     It&#39;s definition
    &#34;&#34;&#34;
    xy = self.__toInternalCoordinates(definition=definition)
    self._imgDraw.ellipse(xy=xy, fill=None, outline=ImageDiagram.DEFAULT_LINE_COLOR, width=1)</code></pre>
</details>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.drawRectangle"><code class="name flex">
<span>def <span class="ident">drawRectangle</span></span>(<span>self, definition: <a title="pyumldiagrams.Definitions.RectangleDefinition" href="../Definitions.html#pyumldiagrams.Definitions.RectangleDefinition">RectangleDefinition</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Draw a general purpose rectangle</p>
<p>Overrides the empty base definition</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>definition</code></strong></dt>
<dd>The rectangle definition</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def drawRectangle(self, definition: RectangleDefinition):
    &#34;&#34;&#34;
    Draw a general purpose rectangle

    Overrides the empty base definition

    Args:
        definition:  The rectangle definition
    &#34;&#34;&#34;

    xy = self.__toInternalCoordinates(definition=definition)
    self._imgDraw.rectangle(xy=xy, fill=None, outline=ImageDiagram.DEFAULT_LINE_COLOR, width=1)</code></pre>
</details>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.drawUmlLine"><code class="name flex">
<span>def <span class="ident">drawUmlLine</span></span>(<span>self, lineDefinition: <a title="pyumldiagrams.Definitions.UmlLineDefinition" href="../Definitions.html#pyumldiagrams.Definitions.UmlLineDefinition">UmlLineDefinition</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Draw the inheritance, aggregation, or composition lines that describe the relationships
between the UML classes</p>
<p>Overrides the empty base definition</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>lineDefinition</code></strong></dt>
<dd>A UML Line definition</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def drawUmlLine(self, lineDefinition: UmlLineDefinition):
    &#34;&#34;&#34;
    Draw the inheritance, aggregation, or composition lines that describe the relationships
    between the UML classes

    Overrides the empty base definition

    Args:
        lineDefinition:   A UML Line definition
    &#34;&#34;&#34;
    self._lineDrawer.draw(lineDefinition=lineDefinition)</code></pre>
</details>
</dd>
<dt id="pyumldiagrams.image.ImageDiagram.ImageDiagram.write"><code class="name flex">
<span>def <span class="ident">write</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Call this method when you are done with placing the diagram onto the image document.</p>
<p>Overrides the empty base definition</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def write(self):
    &#34;&#34;&#34;
    Call this method when you are done with placing the diagram onto the image document.

    Overrides the empty base definition
    &#34;&#34;&#34;
    if self._headerText is not None and self._headerText != &#39;&#39;:

        xy = [LEFT_MARGIN, TOP_MARGIN / 2]
        self._imgDraw.text(xy=xy, fill=ImageDiagram.DEFAULT_TEXT_COLOR, font=self._headerFont, text=self._headerText)

    self._img.save(self._fileName, ImageDiagram.DEFAULT_IMAGE_FORMAT)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pyumldiagrams.BaseDiagram.BaseDiagram" href="../BaseDiagram.html#pyumldiagrams.BaseDiagram.BaseDiagram">BaseDiagram</a></b></code>:
<ul class="hlist">
<li><code><a title="pyumldiagrams.BaseDiagram.BaseDiagram.fontSize" href="../BaseDiagram.html#pyumldiagrams.BaseDiagram.BaseDiagram.fontSize">fontSize</a></code></li>
<li><code><a title="pyumldiagrams.BaseDiagram.BaseDiagram.headerText" href="../BaseDiagram.html#pyumldiagrams.BaseDiagram.BaseDiagram.headerText">headerText</a></code></li>
<li><code><a title="pyumldiagrams.BaseDiagram.BaseDiagram.horizontalGap" href="../BaseDiagram.html#pyumldiagrams.BaseDiagram.BaseDiagram.horizontalGap">horizontalGap</a></code></li>
<li><code><a title="pyumldiagrams.BaseDiagram.BaseDiagram.retrieveResourcePath" href="../BaseDiagram.html#pyumldiagrams.BaseDiagram.BaseDiagram.retrieveResourcePath">retrieveResourcePath</a></code></li>
<li><code><a title="pyumldiagrams.BaseDiagram.BaseDiagram.softwareNameVersion" href="../BaseDiagram.html#pyumldiagrams.BaseDiagram.BaseDiagram.softwareNameVersion">softwareNameVersion</a></code></li>
<li><code><a title="pyumldiagrams.BaseDiagram.BaseDiagram.verticalGap" href="../BaseDiagram.html#pyumldiagrams.BaseDiagram.BaseDiagram.verticalGap">verticalGap</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<img src="PyumlDiagrammerLogo.png" alt="Pyuml Diagrammer Logo" width="268" height="158">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pyumldiagrams.image" href="index.html">pyumldiagrams.image</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram">ImageDiagram</a></code></h4>
<ul class="">
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_BACKGROUND_COLOR" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_BACKGROUND_COLOR">DEFAULT_BACKGROUND_COLOR</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_IMAGE_FORMAT" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_IMAGE_FORMAT">DEFAULT_IMAGE_FORMAT</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_IMAGE_HEIGHT" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_IMAGE_HEIGHT">DEFAULT_IMAGE_HEIGHT</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_IMAGE_WIDTH" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_IMAGE_WIDTH">DEFAULT_IMAGE_WIDTH</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_LINE_COLOR" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_LINE_COLOR">DEFAULT_LINE_COLOR</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_TEXT_COLOR" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.DEFAULT_TEXT_COLOR">DEFAULT_TEXT_COLOR</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.RESOURCES_PACKAGE_NAME" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.RESOURCES_PACKAGE_NAME">RESOURCES_PACKAGE_NAME</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.RESOURCES_PATH" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.RESOURCES_PATH">RESOURCES_PATH</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.X_NUDGE_FACTOR" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.X_NUDGE_FACTOR">X_NUDGE_FACTOR</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.Y_NUDGE_FACTOR" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.Y_NUDGE_FACTOR">Y_NUDGE_FACTOR</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.drawClass" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.drawClass">drawClass</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.drawEllipse" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.drawEllipse">drawEllipse</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.drawRectangle" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.drawRectangle">drawRectangle</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.drawUmlLine" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.drawUmlLine">drawUmlLine</a></code></li>
<li><code><a title="pyumldiagrams.image.ImageDiagram.ImageDiagram.write" href="#pyumldiagrams.image.ImageDiagram.ImageDiagram.write">write</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
By Humberto A. Sanchez II
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.8.5</a>.</p>
</footer>
</body>
</html>